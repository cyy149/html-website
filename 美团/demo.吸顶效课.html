<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<link rel="stylesheet" href="css/reset.css">
	<style>
		p{
			height: 30px;
		}
		ul{
			height: 30px;
			border:1px solid #ddd;
		}
		li{
			line-height: 30px;
			height: 30px;
			float: left;
			padding:0 20px;
			border-right: 1px solid #ddd;
		}
		div{
			text-align: center;
			background: red;
		}
	</style>
</head>
<body>
	<p>
	一个页面中内空很多，会自动形成垂直方向的滚动条。我们实现的效果是，有一个热点区域。当我们的滚动条在向上卷起这个页面，一旦把这个热点内容卷起（把它隐藏起来了）
	</p>	
	<p>
		思路：
		1.如何去判断，我的ul是否被"卷起来"了
		  通过不断地去检测，当前窗口中被卷起来部分的高度：
		  var currenttop = document.body.scrollTop || document.documentElement.scrollTop
		  获取ul自己在这个窗口中的位置（高度）
		  var target  =   ul.offsetTop
	</p>
	<p>1</p>
	<p>2</p>
	<p>3</p>
	<p>3</p>
	<p></p>
	<p></p>
	<p></p>
	<p>
		对于四个栏目，一旦发现它们被卷起来了，就把navbar中相应的li高亮显示
	</p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p>1</p>
	<p></p>
	<p>3</p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<div id="navbar">
		<ul>
			<li>主页</li>
			<li>地址</li>
			<li>促销</li>
			<li>评价</li>
		</ul>
	</div>	
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<div id="index">
		主页
	</div>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p>100</p>
	<p></p>
	<p></p>
	<div id="address">
		地址
	</div>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<div id="sale">
		促销
	</div>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<div id="remark">
		评价
	</div>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p></p>
	<p>d</p>
	
	<p></p>
	<p>d</p>
	<p>q</p>
	<p>a</p>
	<script>

	//获取四个关键点
	var indextarg = document.getElementById('index').offsetTop;
	var addresstarg = document.getElementById('address').offsetTop;
	var saletarg = document.getElementById('sale').offsetTop;
	var remarktarg = document.getElementById('remark').offsetTop;

	var navbar = document.getElementById('navbar')
	// 通过不断地去检测，当前窗口中被卷起来部分的高度：
	// 获取ul自己在这个窗口中的位置（高度）
	var lis  = navbar.getElementsByTagName("li");
	// 
	var target  =   navbar.offsetTop; //决定是否要改变position设置的  位置值

	window.onscroll = function () {
		
		//对于本例而言。
		//当我们卷起的部分小于1050时， 元素正常显示static
		//当我们卷起的部分大于1050时， fixed定位
		
		  var currenttop = document.body.scrollTop || document.documentElement.scrollTop
		  console.info("当前被卷起来："+currenttop)
		  console.info("目标navbar在："+target);

		  if(currenttop >= target){
		  	//一旦把这个热点内容卷起（把它隐藏起来了）
		  	//需要把这个navbar从标准文档流中提出来，使用固定定位fixed
		  	navbar.style.position = "fixed";
		  	navbar.style.top = "0px";
		  }
		  else{
		  	//没有被卷起来，就是默认的定位的方式
		  	navbar.style.position = "static";
		  }
// var  = document.getElementById('index').offsetTop;
// 	var addresstarg = document.getElementById('address').offsetTop;
// 	var saletarg = document.getElementById('sale').offsetTop;
// 	var remarktarg = document.getElementById('remark').offsetTop;
		if(currenttop > remarktarg){
			//说明index部分已经 到达，此时你应该把 主页高亮显示 
			console.info("说明remark部分已经 到达，此时你应该把 评价 高亮显示");
			//找到评价项
			higtlight(3);
			
		}
		else if(currenttop > saletarg){
			//说明index部分已经 到达，此时你应该把 主页高亮显示 
			console.info("说明sale 部分已经 到达，此时你应该把 促销 高亮显示");
			higtlight(2);
		}
		else if(currenttop > addresstarg){
			//说明index部分已经 到达，此时你应该把 主页高亮显示 
			console.info("说明address 部分已经 到达，此时你应该把 地址高亮显示");
			higtlight(1);
			

		}
		else if(currenttop > indextarg){
			//说明index部分已经 到达，此时你应该把 主页高亮显示 
			console.info("说明index部分已经 到达，此时你应该把 主页高亮显示");
			higtlight(0);

		}

	}

	/**
	 * 把lis中的第index个元素高亮
	 * @param  {[type]} index [description]
	 * @return {[type]}       [description]
	 */
	function higtlight(index){
		for (var i = 0; i < lis.length; i++) {
			lis[i].style.background = "red";
		}
		
	}

	</script>
</body>
</html>